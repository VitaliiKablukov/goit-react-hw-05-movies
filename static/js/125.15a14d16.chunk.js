"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[125],{125:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var r=n(982),u=n(861),a=n(885),c=n(757),i=n.n(c),s=n(44);function o(e,t){return f.apply(this,arguments)}function f(){return(f=(0,u.Z)(i().mark((function e(t,n){var r,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.ZP.get("https://api.themoviedb.org/3/search/movie?api_key=1b8f437c71433f5413fc08734c0f2d02&query=".concat(t),{signal:n});case 3:return r=e.sent,u=r.data.results,e.abrupt("return",u);case 8:if(e.prev=8,e.t0=e.catch(0),!s.ZP.isCancel){e.next=12;break}return e.abrupt("return",[]);case 12:throw new Error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var l=n(791),p=n(562),h=n.n(p),v=n(731),d=n(184),g=(0,l.lazy)((function(){return n.e(429).then(n.bind(n,429))})),b=function(){var e,t=(0,l.useState)(""),n=(0,a.Z)(t,2),c=n[0],s=n[1],f=(0,l.useState)([]),p=(0,a.Z)(f,2),b=p[0],m=p[1],w=(0,l.useState)(!1),x=(0,a.Z)(w,2),y=x[0],Z=x[1],k=(0,l.useState)(""),_=(0,a.Z)(k,2),j=_[0],S=_[1],C=(0,v.lr)(),q=(0,a.Z)(C,2),E=q[0],N=q[1],P=null!==(e=E.get("query"))&&void 0!==e?e:"";return(0,l.useEffect)((function(){if(""!==P&&0===b.length){var e=new AbortController,t=function(){var t=(0,u.Z)(i().mark((function t(n){var u;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Z(!0),t.prev=1,t.next=4,o(n,e.signal);case 4:(u=t.sent).length>0&&m((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(u))})),0===u.length&&h().Notify.warning("No movies were found for your request ".concat(n," ")),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),S("Ops");case 12:return t.prev=12,Z(!1),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,9,12,15]])})));return function(e){return t.apply(this,arguments)}}();return t(P),function(){e.abort()}}}),[P,b]),(0,l.useEffect)((function(){j&&alert(j)}),[j]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""===c?h().Notify.warning("Please input name movie"):(m((function(){return[]})),N({query:c}),s((function(){return""})))},children:[(0,d.jsx)("input",{type:"text",value:c,onChange:function(e){var t=e.target.value.trim();s((function(){return t}))}}),(0,d.jsx)("button",{type:"submit",children:"search"})]}),(0,d.jsx)(l.Suspense,{fallback:(0,d.jsx)("div",{children:"Loading..."})}),!y&&(0,d.jsx)(g,{movies:b})]})}}}]);
//# sourceMappingURL=125.15a14d16.chunk.js.map