"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[125],{125:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var r=n(982),u=n(861),a=n(885),i=n(757),s=n.n(i),c=n(44),o=n(7),f=n.n(o);function l(e,t){return p.apply(this,arguments)}function p(){return(p=(0,u.Z)(s().mark((function e(t,n){var r,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.ZP.get("https://api.themoviedb.org/3/search/movie?api_key=1b8f437c71433f5413fc08734c0f2d02&query=".concat(t),{signal:n});case 3:return r=e.sent,u=r.data.results,e.abrupt("return",u);case 8:if(e.prev=8,e.t0=e.catch(0),!c.ZP.isCancel){e.next=12;break}return e.abrupt("return",[]);case 12:throw new Error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}l.protoTypes={name:f().string.isRequired,signal:f().object.isRequired};var h=n(791),v=n(562),d=n.n(v),g=n(731),b=n(184),m=(0,h.lazy)((function(){return n.e(429).then(n.bind(n,429))})),w=function(){var e,t=(0,h.useState)(""),n=(0,a.Z)(t,2),i=n[0],c=n[1],o=(0,h.useState)([]),f=(0,a.Z)(o,2),p=f[0],v=f[1],w=(0,h.useState)(!1),x=(0,a.Z)(w,2),y=x[0],Z=x[1],k=(0,h.useState)(""),_=(0,a.Z)(k,2),j=_[0],q=_[1],S=(0,g.lr)(),C=(0,a.Z)(S,2),E=C[0],N=C[1],P=null!==(e=E.get("query"))&&void 0!==e?e:"";return(0,h.useEffect)((function(){if(""!==P&&0===p.length){var e=new AbortController,t=function(){var t=(0,u.Z)(s().mark((function t(n){var u;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Z(!0),t.prev=1,t.next=4,l(n,e.signal);case 4:(u=t.sent).length>0&&v((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(u))})),0===u.length&&d().Notify.warning("No movies were found for your request ".concat(n," ")),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),q("Ops");case 12:return t.prev=12,Z(!1),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,9,12,15]])})));return function(e){return t.apply(this,arguments)}}();return t(P),function(){e.abort()}}}),[P,p]),(0,h.useEffect)((function(){j&&alert(j)}),[j]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""===i?d().Notify.warning("Please input name movie"):(v((function(){return[]})),N({query:i}),c((function(){return""})))},children:[(0,b.jsx)("input",{type:"text",value:i,onChange:function(e){var t=e.target.value.trim();c((function(){return t}))}}),(0,b.jsx)("button",{type:"submit",children:"search"})]}),(0,b.jsx)(h.Suspense,{fallback:(0,b.jsx)("div",{children:"Loading..."})}),!y&&(0,b.jsx)(m,{movies:p})]})}}}]);
//# sourceMappingURL=125.24f6bcbf.chunk.js.map