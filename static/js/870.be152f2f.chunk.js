"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[870],{870:function(e,t,r){r.r(t),r.d(t,{default:function(){return x}});var n=r(861),i=r(885),s=r(757),c=r.n(s),a=r(731),o=r(689),u=r(791),h=r(44),l=r(7),d=r.n(l);function v(e){return f.apply(this,arguments)}function f(){return(f=(0,n.Z)(c().mark((function e(t){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.ZP.get("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=1b8f437c71433f5413fc08734c0f2d02"));case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 8:if(e.prev=8,e.t0=e.catch(0),!h.ZP.isCancel){e.next=12;break}return e.abrupt("return",{});case 12:throw new Error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}v.protoTypes={id:d().number.isRequired};var p=r(184),x=function(){var e,t,r=(0,u.useState)({}),s=(0,i.Z)(r,2),h=s[0],l=s[1],d=(0,u.useState)(""),f=(0,i.Z)(d,2),x=f[0],j=f[1],m=(0,u.useState)(!1),w=(0,i.Z)(m,2),b=w[0],g=w[1],k=(0,u.useState)(""),_=(0,i.Z)(k,2),Z=_[0],O=_[1],S=(0,u.useState)(0),y=(0,i.Z)(S,2),C=y[0],L=y[1],E=(0,o.UO)().movieId,P=(0,o.TH)(),R=null!==(e=null===(t=P.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/",T=P.state.from;(0,u.useEffect)((function(){if(E){var e=function(){var e=(0,n.Z)(c().mark((function e(t){var r,n,i,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,v(t);case 4:(r=e.sent)&&(n=r.genres.map((function(e){return e.name})),i=n.join(" "),s=Object.keys(r).length,L(s),j((function(){return i})),l((function(){return r}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),O("Ops we don`t have information for this movie");case 11:return e.prev=11,g(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(t){return e.apply(this,arguments)}}();return e(E),function(){}}}),[E]),(0,u.useEffect)((function(){Z&&alert(Z)}),[Z]);var U=h.overview,q=h.release_date,B=h.poster_path,F=h.vote_average,G=h.title,H=h.name;return(0,p.jsxs)("section",{children:[(0,p.jsx)(a.OL,{to:T,children:"Back"}),b||C?(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{children:(0,p.jsx)("img",{src:B?"https://image.tmdb.org/t/p/w400/".concat(B):"https://via.placeholder.com/400x600?text=No image",alt:G||H})}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("h2",{children:[G||H,"(",q,")"]}),(0,p.jsxs)("p",{children:["User Score: ",F?10*F.toFixed(1):void 0,"%"]}),(0,p.jsx)("h3",{children:"Overview"}),(0,p.jsx)("p",{children:U}),(0,p.jsx)("h3",{children:"Genres"}),(0,p.jsx)("p",{children:x})]}),(0,p.jsxs)("ul",{children:[(0,p.jsx)("li",{children:(0,p.jsx)(a.OL,{to:"/movie/".concat(E,"/cast"),state:{from:R},children:(0,p.jsx)("p",{children:"Cast"})})}),(0,p.jsx)("li",{children:(0,p.jsx)(a.OL,{to:"/movie/".concat(E,"/reviews"),state:{from:R},children:(0,p.jsx)("p",{children:"Reviews"})})})]}),(0,p.jsx)(u.Suspense,{fallback:(0,p.jsx)("div",{children:"Loading..."}),children:(0,p.jsx)(o.j3,{})})]}):(0,p.jsx)("p",{children:"We don't have information for this movie"})]})}}}]);
//# sourceMappingURL=870.be152f2f.chunk.js.map